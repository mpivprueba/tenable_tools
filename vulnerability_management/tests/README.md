# Tests Module - MPIV Scan Automation Engine

[![MPIV Developed](https://img.shields.io/badge/Developed%20by-MPIV-orange.svg)](https://mpivpartners.com)

The Tests module provides comprehensive testing and validation capabilities for the Tenable Tools project, ensuring reliable operation and API connectivity with [Tenable.io](https://www.tenable.com/products/vulnerability-management).

---

## Purpose

This module provides testing and validation capabilities to ensure:

* API connectivity and authentication are functioning correctly.

* All modules integrate properly with [Tenable.io](https://www.tenable.com/products/vulnerability-management) services.

* Error handling and edge cases are properly managed.

* System reliability and performance meet operational requirements.

* Development and deployment processes are validated.

---

## Module Structure

```
tests/
├── __init__.py
├── test_auth.py          # API authentication and connectivity testing
└── README.md                # This documentation file
```

---

# Files in this module

**test_auth.py** → Validates API connectivity, authentication, and basic functionality with Tenable.io.

---

## Requirements

This module depends on the following Python libraries (already included in requirements.txt):

requests
python-dotenv

---

## Install them with:

pip install -r requirements.txt

### Environment variables

The module requires API credentials and configuration stored in a .env file at the project root:

ACCESS_KEY=your_access_key

SECRET_KEY=your_secret_key

BASE_URL=https://cloud.tenable.com

---

## Core Functionalities

### 1. API Authentication Testing

**File: test_auth.py**

The [test_auth.py](https://github.com/mpivprueba/tenable_tools/blob/main/vulnerability_management/tests/test_auth.py) module provides comprehensive API connectivity validation:

```
    """
    Validates Tenable.io API connectivity and authentication by:
    - Testing API key authentication and header construction
    - Verifying endpoint accessibility and response handling
    - Checking network connectivity and DNS resolution
    - Validating response formats and error handling
    """
```
---

# Getting Started

### Step-by-Step: Opening Terminal and Navigating to Your Project

Step 1: Open Command Prompt or PowerShell

* Press Windows + R keys simultaneously

* Type cmd for Command Prompt or powershell for PowerShell

* Press Enter

### Step 2: Navigate to Your Project Directory

You need to navigate to the folder where you downloaded or cloned the Tenable Tools project. Replace the example path with your actual project location:

cd "C:\PATH\TO\YOUR\PROJECT\tenable_tools\vulnerability_management"

Examples of actual paths:

#### If you saved it in Documents:
cd "C:\Users\YourUsername\Documents\tenable_tools\vulnerability_management"

#### If you saved it on Desktop:
cd "C:\Users\YourUsername\Desktop\tenable_tools\vulnerability_management"

#### If you saved it in a different drive:
cd "D:\Projects\tenable_tools\vulnerability_management"


### Step 3: Verify Your Location
After running the cd command, your terminal should show something like:

PS C:\Users\YourUsername\Documents\tenable_tools\vulnerability_management>


### Step 4: Activate Virtual Environment (if created)

..\venv\Scripts\activate


### Step 5: Verify You Can Run Commands

python main.py --help

---
## How to Find Your Correct Project Path

* Open File Explorer and navigate to your project folder

* Click on the address bar at the top of the window

* Copy the full path shown in the address bar

* Use that exact path in the cd command in your terminal

#### Example:

If your address bar shows:
C:\Development\security_tools\tenable_tools\vulnerability_management

Then use:
cd "C:\Development\security_tools\tenable_tools\vulnerability_management"

---

## Runtime Dependencies

API Utilities [api_utils.py](https://github.com/mpivprueba/tenable_tools/blob/main/vulnerability_management/api_utils.py) - Provides authentication headers

Configuration [config.py](https://github.com/mpivprueba/tenable_tools/blob/main/vulnerability_management/config.py) - Contains base URL and API settings

---

## Quick Usage Examples

### 1. Run Basic Authentication Test

Command to run:

```
python tests/test_auth.py
```

Expected Output:

```
Status Code: 200
Response Body: {"scans": [...], "folders": [...], "timestamp": ...}
```

### Understanding the command:

* Status Code: 200: Successful API connection
* Response Body: JSON data containing scan information and system status
* Timestamp: API server time for synchronization verification

---

## Notes

* **Essential Validation:** The authentication test is crucial for verifying proper system configuration

* **Quick Diagnostics:** Provides immediate feedback on API connectivity issues

* **Pre-deployment Check:** Should be run before any production deployment

* **Configuration Verification:** Validates .env file setup and API key permissions

* **Network Testing:** Helps diagnose connectivity and DNS resolution problems

* **Error Identification:** Clear error messages help quickly identify and resolve issues